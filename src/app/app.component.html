
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css" rel="stylesheet">

<div *ngIf="isLoggedIn; else loginComponent">
	<div class="d-flex flex-column h-4rem w-100">
		<div class="custom-header-top row h-4rem mx-0">
			<div class="col-md-2 mt-2 mb-2 border-white-alpha-20 d-flex align-items-center">
				<a href="/dashboard" class="text-white mb-0 lead font-bold">Smart ERP</a>
				<button style="height: 76%;" *ngIf="openAside" pButton pRipple type="button" icon="pi pi-arrow-left"
				class="p-0 bg-black-alpha-20 border border-white-alpha-60 ml-5" (click)="closeSideBar()"></button>
				<button style="height: 76%;" *ngIf="closeAside" pButton pRipple type="button" icon="pi pi-arrow-right"
				class="p-0 bg-black-alpha-20 border border-white-alpha-60 ml-5"  (click)="openSideBar()"></button>
				
			</div>
			<div class="col-md-7 d-flex justify-content-evenly rounded-5 border-1 border-white-alpha-20 mt-2 mb-2 bg-black-alpha-20 align-items-center">
				<p class="text-white mb-0 lead font-bold">Smart ERP Solutions</p>
				<p class="text-white mb-0 lead font-bold">{{currentDateTime}}</p>
			</div>
			<div class="col-md-3 ml-3 d-flex justify-content-evenly rounded-5 w-auto border-1 border-white-alpha-60 mt-2 mb-2 bg-black-alpha-20 align-items-center">
				<p class="text-white mb-0 mr-5 lead font-bold">{{currentUser}}</p>
				<div class="line mr-4">
				</div>
				<p (click)="logout()" style="cursor: pointer;" class="text-white mb-0 lead font-bold">Log Out</p>
			</div>
			
		</div>
	</div>
	<div class="d-flex container1">
		<div class="al-left">
		  <app-sidebar *ngIf="sidebarActive"></app-sidebar>
		</div>
		<div class="al-right container-fluid overflow-auto">
		  <router-outlet></router-outlet>
		</div>
	</div>
	<div class="footer">
		&copy; {{ currentYear }}  Aventech Software Company
	</div>
</div>
<ng-template #loginComponent>
	<div class="mt-4">
		<!-- <div class="mx-0 row justify-content-center">
			<img class="w-2" src="../assets/Background.jpeg"/>
		</div> -->	
		<div class="col-md-5">
		  <div class="card">
			<div class="card-header">
			  <h3>Login to Smart ERP</h3>
			</div>
			<div class="card-body">
			  <form (ngSubmit)="login()">
				<div class="mb-3">
				  <label for="username" class="form-label">Username</label>
				  <input type="text" class="form-control form-control-sm col-md-12" id="username" [(ngModel)]="loginData.Email" name="username" required>
				</div>
				<div class="mb-3">
				  <label for="password" class="form-label">Password</label>
				  <div class="input-group">
					<input type="password" class="form-control form-control-sm col-md-12 pwd" id="password" [(ngModel)]="loginData.Password" name="password" required [type]="passwordFieldType">
					<button class="btn btn-outline-secondary" type="button" (click)="togglePasswordVisibility()">
						<i class="bi" [ngClass]="passwordFieldType === 'password' ? 'bi-eye' : 'bi-eye-slash'"></i>
					</button>
				</div>
				</div>
				<div class="d-grid">
				  <button type="submit" class="btn btn-primary">Login</button>
				</div>
			  </form>
			</div>
			<div class="card-footer">
			  <div class="footer">
				&copy; {{ currentYear }} Aventech Software Company
			  </div>
			</div>
		  </div>
		</div>
	  </div>
</ng-template>
<p-toast position="top-right"></p-toast>




